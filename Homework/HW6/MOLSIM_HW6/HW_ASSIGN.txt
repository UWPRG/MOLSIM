Jump on an interactive node and load gromacs.

You just ran a simulation of alanine dipeptide in vacuum and realized you
forgot to print out the phi torsion angle, a CV that helps define the conformation
of the peptide.

Because you have the trajectory, it seems foolish to run the simulation again as this is
very wasteful. Instead use the driver module in plumed to process the trajectory and calculate
the phi dihedral angle (torion angle between atoms 5,7,9,15)

To do this complete the following steps:

1) Create a plumed.dat file defining the dihedral angle you want to calculate
and print out the variable to a file called PLUMED_PHI with a frequency of 1.

2) run the following command in the terminal. 

plumed driver --mf_xtc traj_comp.xtc --plumed plumed_template.dat --timestep 0.1

Be sure to include --timestep 0.1 in all driver commands because the simulation output the data with a frequency of 0.1 ps.

you will replace plumed_template.dat with your own plumed file.

3)Plot the evolution of the phi angle with respect to time in python or gnuplot.

Be sure to label axes.


Now, lets check the PLUMED torsion calculator! Using the MATHEVAL
and the vectors between the atoms, manually calculate the phi torsion angle 
and see if you get the same values as PLUMED.

Generate a new output file with three columns: Time,PLUMED's phi, and your manually calculated phi.

Torsion angles should be in radians. For this exercise it is acceptable to use a
method which calculates the torsion angle on a range from (0,pi) instead of (-pi, pi)
like plumed, but your value should match the absolute value of plumeds then.
Wikipedia is a good place to start if you don't know what a dihedral angle is. 


I will award extra credit for those you are able to manually calculate the torsion angle
which extends from the range (-pi,pi).

As a check, compare this to the to the phi dihedral calculated from gromacs:

gmx chi -f traj_comp.xtc -s start.gro -phi -all -rad 

values will be output to phiALA2.xvg

Lastly, because we are still not convinced we are correct, load the start.gro and trajectory into vmd and have vmd
calculate the phi dihedral angle at every frame.

You will turn in:
PLUMED files
A python notebook which plots the dihedral angle (in radians) from vmd, gromacs, plumed, and plumed-matheval.
In the python notebook, you will list which paper you read and the answers to the three questions.
  
