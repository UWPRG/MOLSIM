#This is a template for evaluating simple CVs in plumed
#A given CV is typically specified as follows: ACTION LABEL ARGUMENTS OPTIONS
#For this example we want to calculate the distance, which we label d1, betweem atoms 1 & 2
#Technically the order of arguments doesn't matter so long as they are included in the block

DISTANCE LABEL=d12 ATOMS=1,2

#CVs typically have options that a helpful. For instance:
#
DISTANCE LABEL=a ATOMS=5,7 COMPONENTS
DISTANCE LABEL=b ATOMS=7,9 COMPONENTS
DISTANCE LABEL=c ATOMS=9,15 COMPONENTS

#Will return the x,y,z components of the vector instead of the distance

#Here we calculate the psi torsion angle in alanine dipeptide:
TORSION LABEL=phi ATOMS=5,7,9,15

#For long blocks, they can be split across multiple lines like so
#
TORSION ...
LABEL=psi_again
ATOMS=7,9,15,17
... TORSION 

# Additionally, PLUMED has a function called MATHEVAL which lets you define your own CVs!
# Here is an example for calculating my own CV: Dennis (it is just d1 again)
#
MATHEVAL ...
ARG=a.y,b.z,a.z,b.y #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(l*m)-(n*o)
LABEL=i_579
... MATHEVAL

MATHEVAL ...
ARG=a.x,b.z,a.z,b.x #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(n*o)-(l*m)
LABEL=j_579
... MATHEVAL

MATHEVAL ...
ARG=a.x,b.y,a.y,b.x #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(l*m)-(n*o)
LABEL=k_579
... MATHEVAL

MATHEVAL ...
ARG=b.y,c.z,b.z,c.y #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(l*m)-(n*o)
LABEL=i_7915
... MATHEVAL


MATHEVAL ...
ARG=b.x,c.z,b.z,c.x #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(n*o)-(l*m)
LABEL=j_7915
... MATHEVAL

MATHEVAL ...
ARG=b.x,c.y,b.y,c.x #Values you are feeding into the equation
VAR=l,m,n,o #Variable names you are assigning your arguments for your formulat
PERIODIC=NO #If value is periodic you must specify the bounds
FUNC=(l*m)-(n*o)
LABEL=k_7915
... MATHEVAL

MATHEVAL ...
ARG=i_579,j_579,k_579,i_7915,j_7915,k_7915
VAR=l,m,n,o,p,q
PERIODIC=NO
FUNC=acos((l*o+m*p+n*q)/(((l^2+m^2+n^2)^0.5)*((o^2+p^2+q^2)^0.5)))
LABEL=PHI_ANGLE
... MATHEVAL

#You can specify which variables are printed out (ARG). For printing everything do ARG=* and at what frequency they are printed out STRIDE=
# In this case the Torsion angle psi_again will not be printed out.
PRINT ARG=phi,PHI_ANGLE STRIDE=1 FILE=KhushmeenS

#FILE is the name of the file created with the outputs
